import n,{useState as t,useEffect as r,useCallback as e}from"react";import i,{keyframes as o}from"styled-components";function a(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var e,i,o=[],a=!0,l=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(n){l=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}(n,t)||c(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n){return function(n){if(Array.isArray(n))return f(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,t){if(n){if("string"==typeof n)return f(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(n,t):void 0}}function f(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var m,d,p,s,g,y,h,b,v,x,w=i.button(m||(m=a(["\n  position: relative;\n  margin-top: 5px;\n  margin-right: 10px;\n  float: right;\n  color: #fff;\n  border: none;\n  font-size: 16px;\n  background: none;\n"]))),E=function(t){return n.createElement(w,{onClick:t.onClick},"X")},A=i.p(d||(d=a(["\n  padding-top: 15px;\n  color: white;\n"]))),j=function(t){var r=t.children;return n.createElement(A,null,r)},k=i.div(p||(p=a(["\n  float: left;\n  margin-right: 10px;\n"]))),I=i.img(s||(s=a(["\n  text-align: center;\n  padding-top: 20px;\n  padding-bottom: 15px;\n  padding-left: 10px;\n  width: 40px;\n  height: 40px;\n"]))),S=function(t){var r=t.src,e=t.alt;return n.createElement(k,null,n.createElement(I,{src:r,alt:e}))},C=i.div(g||(g=a(["\n  float: ",";\n  display: flex;\n  width: 250px;\n  top: 12px;\n  right: 50%;\n  flex-direction: column;\n  border-radius: 10px;\n  z-index: 999999;\n  position: absolute;\n"])),(function(n){return"center"===n.position?"left":"right"})),O=o(y||(y=a(["\n\tfrom {\n\t\ttransform: translateX(30%);\n\t\t\n\t}\n\tto {\n\t\ttransform: translateX(0%);\n\t}\n"]))),X=o(h||(h=a(["\n\tfrom {\n\t\ttransform: translateX(-30%);\n\t\t\n\t}\n\tto {\n\t\ttransform: translateX(0%);\n\t}\n"]))),z=o(b||(b=a(["\n  0%{ width: 100%;\n\topacity:1; }\n  100% { width: 1%;\n\topacity:0 }\n"]))),T=i.div(v||(v=a(["\n  animation: ","\n    2s;\n  justify-content: flex-end;\n  margin-top: ","px;\n  border-radius: 13px;\n"])),(function(n){return"Left"===n.animation?O:X}),(function(n){return"small"===n.margin?20:40})),L=i.div(x||(x=a(["\n  height: 5px;\n  border-radius: 13px;\n  background: #ff8fa2;\n  animation: "," ","ms linear forwards;\n"])),z,(function(n){return n.time})),P=function(i){var o=i.value,a=l(t(o),2),c=a[0],f=a[1];r((function(){4===o.length&&o.shift(),f(u(o))}),[o]),r((function(){var n=setTimeout((function(){o.length&&c.length&&i.time&&m(o[0].id)}),i.time);return function(){clearInterval(n)}}),[o,c]);var m=e((function(n){var t=c.findIndex((function(t){return t.id===n})),r=o.findIndex((function(t){return t.id===n}));c.splice(t,1),o.splice(r,1),f(u(c))}),[c]);return n.createElement(C,{position:i.position},c.map((function(t,r){return n.createElement(T,{key:r,style:{backgroundColor:t.backgroundColor},animation:i.animation,margin:i.margin},n.createElement(E,{onClick:function(){return m(t.id)}}),n.createElement(S,{src:t.icon,alt:""}),n.createElement("div",null,n.createElement(j,null,t.description)),n.createElement(L,{time:i.time}))})))};P.defaultProps={animation:"Left",time:3e3,margin:"small",position:"center"};export{P as Toast};
